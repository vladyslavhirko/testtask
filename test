aws iam attach-role-policy --role-name lambda-ex-1 --policy-arn arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole

aws lambda create-function --function-name my-function \
                                           --zip-file fileb://function.zip --handler main.lambda_handler --runtime python3.8 \
                                                                                                             --role arn:aws:iam::290533824723:role/lambda-ex-1

aws lambda create-function-url-config \
     --function-name my-function \
     --auth-type NONE

aws apigateway create-rest-api --name 'hellolambda123' --region us-east-1 > apigetway.json

aws apigateway get-resources --rest-api-id xlh29pyw2f --region us-east-1 > apigetwayroot.json

aws apigateway create-resource --rest-api-id xlh29pyw2f \
      --region us-east-1 \
      --parent-id dj9mi7wz4a \
      --path-part "hello" > restapiresource.json

aws apigateway put-method --rest-api-id xlh29pyw2f \
       --region us-east-1 \
       --resource-id cc0gvu \
       --http-method GET \
       --authorization-type "NONE"

aws apigateway put-method-response \
        --region us-east-1 \
        --rest-api-id xlh29pyw2f \
        --resource-id cc0gvu \
        --http-method GET \
        --status-code 200

aws apigateway put-integration \
        --region us-east-1 \
        --rest-api-id xlh29pyw2f \
        --resource-id cc0gvu \
        --http-method GET \
        --type AWS \
        --integration-http-method GET \
        --uri arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:290533824723:function:my-function \
        --credentials arn:aws:iam::290533824723:role/lambda-ex-1



aws apigateway put-integration-response \
        --region us-east-1 \
        --rest-api-id xlh29pyw2f \
        --resource-id cc0gvu \
        --http-method GET \
        --status-code 200 \
        --selection-pattern ""

aws apigateway create-deployment --rest-api-id xlh29pyw2f --stage-name test --region us-east-1



https://xlh29pyw2f.execute-api.us-east-1.amazonaws.com/test/greeting




--------------------

aws apigateway create-rest-api --name 'lambda123' --region us-east-1

aws apigateway get-resources --rest-api-id rf6p4qxska --region us-east-1 > apigetwayroot.json

aws apigateway create-resource --rest-api-id rf6p4qxska \
      --region us-east-1 \
      --parent-id ijmjsr3mlg \
      --path-part {proxy+} > restapiresource.json

aws apigateway put-method --rest-api-id rf6p4qxska \
       --region us-east-1 \
       --resource-id uukd9r \
       --http-method ANY \
       --authorization-type "NONE"

aws apigateway put-integration \
        --region us-east-1 \
        --rest-api-id rf6p4qxska \
        --resource-id uukd9r \
        --http-method ANY \
        --type AWS_PROXY \
        --integration-http-method POST \
        --uri arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:290533824723:function:my-function/invocations \
        --credentials arn:aws:iam::290533824723:role/vlad.sandbox

aws apigateway create-deployment --rest-api-id rf6p4qxska --stage-name test

https://rf6p4qxska.execute-api.us-east-1.amazonaws.com/test/greeting?greeter=jane

curl -X GET 'https://rf6p4qxska.execute-api.us-east-1.amazonaws.com/test/aa' \
  -H 'authorization: AWS4-HMAC-SHA256 Credential=AKIAUHJJKLDJQFRLFTON/20171020/us-east-1/execute-api/aws4_request, \
      SignedHeaders=content-type;host;x-amz-date, Signature=f327...5751'